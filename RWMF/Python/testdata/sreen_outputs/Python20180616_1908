warning: Debugger speedups using cython not found. Run '"/Users/XiangyuW/anaconda3/bin/python3.6" "/Users/XiangyuW/.p2/pool/plugins/org.python.pydev.core_6.3.3.201805051638/pysrc/setup_cython.py" build_ext --inplace' to build.
pydev debugger: starting (pid: 1923)
/Users/XiangyuW/anaconda3/lib/python3.6/site-packages/h5py/__init__.py:34: FutureWarning: Conversion of the second argument of issubdtype from `float` to `np.floating` is deprecated. In future, it will be treated as `np.float64 == np.dtype(float).type`.
  from ._conv import register_converters as _register_converters
Successfully load data from pickle /Users/XiangyuW/Google Drive/Research2015/ReweightMF/Code/Python/testdata/input_datasets/YaleFace1.pickle!
Data loaded successfully from /Users/XiangyuW/Google Drive/Research2015/ReweightMF/Code/Python/testdata/input_datasets/YaleFace1.pickle !

***********Begins test no.  1
The projected low rank is  144
The initial randon shuffle is  [125  86  18  92 108  29 102  72  39 118 130  55  10  45  12 121  47  24
  73  35 146   6 122  41 110  13 128 155  87 135  25 117  77 126  49  93
  94 114  83 154  68 113 101  76  46  85  30 151  53  50  65  20  56  23
  74  28  16   7  71  88  38  42 139 143 103  99 112   2  98  17  67   0
  33 150 124  70   9  22 148  90 136  78 100 145  32   8   1  62  36   3
 147 132  96  57 134 142  89  59 133 109 111  82  34  11  27  26  61 105
  91 149  44 107  97  51 106  21  37 123 120  31  69 138 140  75  60 104
  40  63 153  52 144  14 141 119   4  19 129  58 116   5 137  15  66  81
  84 131 115  95 152  54  80  64 127  43  48  79]
********
Starting the AGD-type ALM FGD---Accelerate Basis********

The initial err is  29035.725469706715

The 1-th iteration of Accelerated ALM FGD
----The ALM err is  25613.211661413945
--Current err is 25613.212 and the improvement is 3422.514
----The accelerated err is  29035.725469706715

The 2-th iteration of Accelerated ALM FGD
----The ALM err is  24420.11767269819
--Current err is 24420.118 and the improvement is 1193.094
----The accelerated err is  24420.11767269819

The 3-th iteration of Accelerated ALM FGD
----The ALM err is  24435.29269403474
--Current err is 24435.293 and the improvement is 15.175
----The accelerated err is  24893.11904182023

The 4-th iteration of Accelerated ALM FGD
----The ALM err is  24049.35443537929
--Current err is 24049.354 and the improvement is 385.938
----The accelerated err is  24403.136789310323

The 5-th iteration of Accelerated ALM FGD
----The ALM err is  24268.14722203578
--Current err is 24268.147 and the improvement is 218.793
----The accelerated err is  25023.38183057569

The 6-th iteration of Accelerated ALM FGD
----The ALM err is  23961.862887262712
--Current err is 23961.863 and the improvement is 306.284
----The accelerated err is  24392.39412092694

The 7-th iteration of Accelerated ALM FGD
----The ALM err is  24209.616859606103
--Current err is 24209.617 and the improvement is 247.754
----The accelerated err is  25015.763766035823

The 8-th iteration of Accelerated ALM FGD
----The ALM err is  23915.22640620408
--Current err is 23915.226 and the improvement is 294.390
----The accelerated err is  24359.342552893708

The 9-th iteration of Accelerated ALM FGD
----The ALM err is  24168.314709835187
--Current err is 24168.315 and the improvement is 253.088
----The accelerated err is  24984.266111853685

The 10-th iteration of Accelerated ALM FGD
----The ALM err is  23874.874947861343
--Current err is 23874.875 and the improvement is 293.440
----The accelerated err is  24322.041426584034

The 11-th iteration of Accelerated ALM FGD
----The ALM err is  24129.488664348963
--Current err is 24129.489 and the improvement is 254.614
----The accelerated err is  24948.463916065542

The 12-th iteration of Accelerated ALM FGD
----The ALM err is  23837.064403014556
--Current err is 23837.064 and the improvement is 292.424
----The accelerated err is  24286.112857648604

The 13-th iteration of Accelerated ALM FGD
----The ALM err is  24094.708573817574
--Current err is 24094.709 and the improvement is 257.644
----The accelerated err is  24915.643946805896

The 14-th iteration of Accelerated ALM FGD
----The ALM err is  23805.964369105208
--Current err is 23805.964 and the improvement is 288.744
----The accelerated err is  24257.07730745647

The 15-th iteration of Accelerated ALM FGD
----The ALM err is  24068.108997973268
--Current err is 24068.109 and the improvement is 262.145
----The accelerated err is  24890.637639197488

The 16-th iteration of Accelerated ALM FGD
----The ALM err is  23784.004485360667
--Current err is 23784.004 and the improvement is 284.105
----The accelerated err is  24236.892355469394

The 17-th iteration of Accelerated ALM FGD
----The ALM err is  24050.323287279774
--Current err is 24050.323 and the improvement is 266.319
----The accelerated err is  24873.999976797793

The 18-th iteration of Accelerated ALM FGD
----The ALM err is  23770.000985797764
--Current err is 23770.001 and the improvement is 280.322
----The accelerated err is  24224.05694974598

The 19-th iteration of Accelerated ALM FGD
----The ALM err is  24039.298591583232
--Current err is 24039.299 and the improvement is 269.298
----The accelerated err is  24863.69645385937

The 20-th iteration of Accelerated ALM FGD
----The ALM err is  23761.481915538698
--Current err is 23761.482 and the improvement is 277.817
----The accelerated err is  24216.184589674478

The 21-th iteration of Accelerated ALM FGD
----The ALM err is  24032.65190011716
--Current err is 24032.652 and the improvement is 271.170
----The accelerated err is  24857.465953655785

The 22-th iteration of Accelerated ALM FGD
----The ALM err is  23756.3518418296
--Current err is 23756.352 and the improvement is 276.300
----The accelerated err is  24211.375361446808

The 23-th iteration of Accelerated ALM FGD
----The ALM err is  24028.641606494617
--Current err is 24028.642 and the improvement is 272.290
----The accelerated err is  24853.686039765602

The 24-th iteration of Accelerated ALM FGD
----The ALM err is  23753.233601587515
--Current err is 23753.234 and the improvement is 275.408
----The accelerated err is  24208.402881659174

The 25-th iteration of Accelerated ALM FGD
----The ALM err is  24026.187001634913
--Current err is 24026.187 and the improvement is 272.953
----The accelerated err is  24851.356819146888

The 26-th iteration of Accelerated ALM FGD
----The ALM err is  23751.304939254114
--Current err is 23751.305 and the improvement is 274.882
----The accelerated err is  24206.53334139145

The 27-th iteration of Accelerated ALM FGD
----The ALM err is  24024.655799544937
--Current err is 24024.656 and the improvement is 273.351
----The accelerated err is  24849.893420561504

The 28-th iteration of Accelerated ALM FGD
----The ALM err is  23750.089025080793
--Current err is 23750.089 and the improvement is 274.567
----The accelerated err is  24205.336083594

The 29-th iteration of Accelerated ALM FGD
----The ALM err is  24023.68235122534
--Current err is 24023.682 and the improvement is 273.593
----The accelerated err is  24848.956406793295

The 30-th iteration of Accelerated ALM FGD
----The ALM err is  23749.30873713987
--Current err is 23749.309 and the improvement is 274.374
----The accelerated err is  24204.556702972077
********
Starting the AGD-type ALM FGD ----- Accelerate Weights and Basis ********

The initial err is  29035.725469706715

The 1-th iteration of Accelerated ALM FGD
----The ALM err is  25613.211661413945
--Current err is 25613.212 and the improvement is 3422.514
Traceback (most recent call last):
  File "/Users/XiangyuW/.p2/pool/plugins/org.python.pydev.core_6.3.3.201805051638/pysrc/pydevd.py", line 1655, in <module>
    main()
  File "/Users/XiangyuW/.p2/pool/plugins/org.python.pydev.core_6.3.3.201805051638/pysrc/pydevd.py", line 1649, in main
    globals = debugger.run(setup['file'], None, None, is_module)
  File "/Users/XiangyuW/.p2/pool/plugins/org.python.pydev.core_6.3.3.201805051638/pysrc/pydevd.py", line 1055, in run
    pydev_imports.execfile(file, globals, locals)  # execute the script
  File "/Users/XiangyuW/.p2/pool/plugins/org.python.pydev.core_6.3.3.201805051638/pysrc/_pydev_imps/_pydev_execfile.py", line 25, in execfile
    exec(compile(contents+"\n", file, 'exec'), glob, loc)
  File "/Users/XiangyuW/Google Drive/Research2015/ReweightMF/Code/Python/test_RWLR_rank_effect.py", line 150, in <module>
    U2,g2,err_list2,g_list2 = test_model_theta.apply_RW_AGD_NC_Gamma(w_kernel, par_kernel,U_update_method,n_inner_loop,oscillation_control = 3)
  File "/Users/XiangyuW/Google Drive/Research2015/ReweightMF/Code/Python/RWLR_support.py", line 2048, in apply_RW_AGD_NC_Gamma
    Zt = Ugt + betta_t*(Ugt - U_pre)
UnboundLocalError: local variable 'Ugt' referenced before assignment
