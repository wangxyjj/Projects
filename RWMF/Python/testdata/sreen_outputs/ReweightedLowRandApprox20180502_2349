/Users/XiangyuW/anaconda3/lib/python3.6/site-packages/h5py/__init__.py:34: FutureWarning: Conversion of the second argument of issubdtype from `float` to `np.floating` is deprecated. In future, it will be treated as `np.float64 == np.dtype(float).type`.
  from ._conv import register_converters as _register_converters
Err in loading pickle files and the infor is:  [Errno 2] No such file or directory: '/Users/XiangyuW/Google Drive/Research2015/ReweightMF/Code/Python/testdata/data_RWLR_train_3000'


We now try loding data from mat /Users/XiangyuW/Google Drive/Research2015/ReweightMF/Code/Python/testdata/data_RWLR_train_3000!


Successfully load data from mat /Users/XiangyuW/Google Drive/Research2015/ReweightMF/Code/Python/testdata/data_RWLR_train_3000!
Handwritten data loaded successfully from /Users/XiangyuW/Google Drive/Research2015/ReweightMF/Code/Python/testdata/data_RWLR_train_3000 !

The projected low rank is  100
The initial randon shuffle is  [1782 1767 2750 ...  201 2229   49]
********
Starting the AGD-type ALM FGD---Accelerate Basis********

The initial err is  88564.42350917796

The 1-th iteration of Accelerated ALM FGD
----The ALM err is  82311.66062173997
--Current err is 82311.661 and the improvement is 6252.763

The 2-th iteration of Accelerated ALM FGD
----The ALM err is  81575.32878966698
----The accelerated err is  81575.32878966698
--Current err is 81575.329 and the improvement is 736.332

The 3-th iteration of Accelerated ALM FGD
----The ALM err is  81497.29059454007
----The accelerated err is  81829.52011096335
--Current err is 81497.291 and the improvement is 78.038

The 4-th iteration of Accelerated ALM FGD
----The ALM err is  81313.41258860643
----The accelerated err is  81680.47669832446
--Current err is 81313.413 and the improvement is 183.878

The 5-th iteration of Accelerated ALM FGD
----The ALM err is  81352.86923912622
----The accelerated err is  81891.2802004148
--Current err is 81352.869 and the improvement is 39.457

The 6-th iteration of Accelerated ALM FGD
----The ALM err is  81230.39950005064
----The accelerated err is  81669.9464989193
--Current err is 81230.400 and the improvement is 122.470

The 7-th iteration of Accelerated ALM FGD
----The ALM err is  81296.02209128521
----The accelerated err is  81870.05572533597
--Current err is 81296.022 and the improvement is 65.623

The 8-th iteration of Accelerated ALM FGD
----The ALM err is  81191.56399278835
----The accelerated err is  81645.47897922253
--Current err is 81191.564 and the improvement is 104.458

The 9-th iteration of Accelerated ALM FGD
----The ALM err is  81266.91642668225
----The accelerated err is  81847.88016784746
--Current err is 81266.916 and the improvement is 75.352

The 10-th iteration of Accelerated ALM FGD
----The ALM err is  81169.91549660066
----The accelerated err is  81627.51704709935
--Current err is 81169.915 and the improvement is 97.001

The 11-th iteration of Accelerated ALM FGD
----The ALM err is  81249.79005999918
----The accelerated err is  81832.53774667898
--Current err is 81249.790 and the improvement is 79.875

The 12-th iteration of Accelerated ALM FGD
----The ALM err is  81156.46939755739
----The accelerated err is  81615.43496657709
--Current err is 81156.469 and the improvement is 93.321

The 13-th iteration of Accelerated ALM FGD
----The ALM err is  81238.74644307772
----The accelerated err is  81822.18201678507
--Current err is 81238.746 and the improvement is 82.277

The 14-th iteration of Accelerated ALM FGD
----The ALM err is  81147.47462893318
----The accelerated err is  81607.12979101005
--Current err is 81147.475 and the improvement is 91.272

The 15-th iteration of Accelerated ALM FGD
----The ALM err is  81231.1633196428
----The accelerated err is  81814.96663446313
--Current err is 81231.163 and the improvement is 83.689

The 16-th iteration of Accelerated ALM FGD
----The ALM err is  81141.14115467525
----The accelerated err is  81601.21359415153
--Current err is 81141.141 and the improvement is 90.022

The 17-th iteration of Accelerated ALM FGD
----The ALM err is  81225.72494444127
----The accelerated err is  81809.76129749796
--Current err is 81225.725 and the improvement is 84.584

The 18-th iteration of Accelerated ALM FGD
----The ALM err is  81136.51657819835
----The accelerated err is  81596.86521170792
--Current err is 81136.517 and the improvement is 89.208

The 19-th iteration of Accelerated ALM FGD
----The ALM err is  81221.69916421843
----The accelerated err is  81805.8952536015
--Current err is 81221.699 and the improvement is 85.183

The 20-th iteration of Accelerated ALM FGD
----The ALM err is  81133.0445586166
----The accelerated err is  81593.58488936993
--Current err is 81133.045 and the improvement is 88.655

The 21-th iteration of Accelerated ALM FGD
----The ALM err is  81218.64228241764
----The accelerated err is  81802.95248360136
--Current err is 81218.642 and the improvement is 85.598

The 22-th iteration of Accelerated ALM FGD
----The ALM err is  81130.37537540335
----The accelerated err is  81591.05264972597
--Current err is 81130.375 and the improvement is 88.267

The 23-th iteration of Accelerated ALM FGD
----The ALM err is  81216.26774420709
----The accelerated err is  81800.66168180334
--Current err is 81216.268 and the improvement is 85.892

The 24-th iteration of Accelerated ALM FGD
----The ALM err is  81128.27734975303
----The accelerated err is  81589.05447039886
--Current err is 81128.277 and the improvement is 87.990

The 25-th iteration of Accelerated ALM FGD
----The ALM err is  81214.38218501721
----The accelerated err is  81798.83887700434
--Current err is 81214.382 and the improvement is 86.105

The 26-th iteration of Accelerated ALM FGD
----The ALM err is  81126.59149526064
----The accelerated err is  81587.44264665546
--Current err is 81126.591 and the improvement is 87.791

The 27-th iteration of Accelerated ALM FGD
----The ALM err is  81212.85131185749
----The accelerated err is  81797.35594218846
--Current err is 81212.851 and the improvement is 86.260

The 28-th iteration of Accelerated ALM FGD
----The ALM err is  81125.20619819354
----The accelerated err is  81586.11311341198
--Current err is 81125.206 and the improvement is 87.645

The 29-th iteration of Accelerated ALM FGD
----The ALM err is  81211.58014063799
----The accelerated err is  81796.12210145783
--Current err is 81211.580 and the improvement is 86.374

The 30-th iteration of Accelerated ALM FGD
----The ALM err is  81124.04199217107
----The accelerated err is  81584.99160931636
--Current err is 81124.042 and the improvement is 87.538

 Saving as mat file.
data is saved in /Users/XiangyuW/Google Drive/Research2015/ReweightMF/Code/Python/testdata/MINIST_ARWLR_AGD_ALM_v9.mat.
********
Starting the AGD-type ALM FGD ----- Accelerate Weights and Basis ********

The initial err is  88564.42350917796

The 1-th iteration of Accelerated ALM FGD
----The ALM err is  82311.66062173997
--Current err is 82311.661 and the improvement is 6252.763

The 2-th iteration of Accelerated ALM FGD
----The ALM err is  81575.32878966698
----The accelerated-weight err is  81575.32878966698
----The accelerated err of accelerating basis is  81575.32878966698
--Current err is 81575.329 and the improvement is 736.332

The 3-th iteration of Accelerated ALM FGD
----The ALM err is  81497.29059454007
----The accelerated-weight err is  81497.2027474613
------Found a better point after accelerating weights! Improvment is  0.08784707877202891
----The accelerated err of accelerating basis is  81281.98348338682
------Found a better point after accelerating basis! Improvment is  31.381125998537755
--Current err is 81281.983 and the improvement is 293.345

The 4-th iteration of Accelerated ALM FGD
----The ALM err is  81327.36071381887
----The accelerated-weight err is  81327.34440259065
------Found a better point after accelerating weights! Improvment is  0.01631122821709141
----The accelerated err of accelerating basis is  81201.44068993554
------Found a better point after accelerating basis! Improvment is  12.786468623235123
--Current err is 81201.441 and the improvement is 80.543

The 5-th iteration of Accelerated ALM FGD
----The ALM err is  81268.69910905532
----The accelerated-weight err is  81268.69176390833
------Found a better point after accelerating weights! Improvment is  0.007345146994339302
----The accelerated err of accelerating basis is  81166.2366904399
------Found a better point after accelerating basis! Improvment is  6.2882479588879505
--Current err is 81166.237 and the improvement is 35.204

The 6-th iteration of Accelerated ALM FGD
----The ALM err is  81240.91272636433
----The accelerated-weight err is  81240.90851554184
------Found a better point after accelerating weights! Improvment is  0.004210822487948462
----The accelerated err of accelerating basis is  81147.42293312888
------Found a better point after accelerating basis! Improvment is  3.552344223615364
--Current err is 81147.423 and the improvement is 18.814

The 7-th iteration of Accelerated ALM FGD
----The ALM err is  81225.32776176879
----The accelerated-weight err is  81225.32488239618
------Found a better point after accelerating weights! Improvment is  0.002879372608731501
----The accelerated err of accelerating basis is  81136.03940975748
------Found a better point after accelerating basis! Improvment is  2.2175241105869645
--Current err is 81136.039 and the improvement is 11.384

The 8-th iteration of Accelerated ALM FGD
----The ALM err is  81215.60014728887
----The accelerated-weight err is  81215.59797051926
------Found a better point after accelerating weights! Improvment is  0.002176769616198726
----The accelerated err of accelerating basis is  81128.60102306907
------Found a better point after accelerating basis! Improvment is  1.4752613875025418
--Current err is 81128.601 and the improvement is 7.438

The 9-th iteration of Accelerated ALM FGD
----The ALM err is  81209.11782284152
----The accelerated-weight err is  81209.11606928242
------Found a better point after accelerating weights! Improvment is  0.0017535591032356024
----The accelerated err of accelerating basis is  81123.49546048131
------Found a better point after accelerating basis! Improvment is  1.0243683918379247
--Current err is 81123.495 and the improvement is 5.106

The 10-th iteration of Accelerated ALM FGD
----The ALM err is  81204.60601909099
----The accelerated-weight err is  81204.60453436594
------Found a better point after accelerating weights! Improvment is  0.0014847250567981973
----The accelerated err of accelerating basis is  81119.85951361683
------Found a better point after accelerating basis! Improvment is  0.7362355621298775
--Current err is 81119.860 and the improvement is 3.636

The 11-th iteration of Accelerated ALM FGD
----The ALM err is  81201.35414467586
----The accelerated-weight err is  81201.35283468758
------Found a better point after accelerating weights! Improvment is  0.0013099882780807093
----The accelerated err of accelerating basis is  81117.18247816758
------Found a better point after accelerating basis! Improvment is  0.5468748550774762
--Current err is 81117.182 and the improvement is 2.677

The 12-th iteration of Accelerated ALM FGD
----The ALM err is  81198.93116524776
----The accelerated-weight err is  81198.9299697222
------Found a better point after accelerating weights! Improvment is  0.0011955255613429472
----The accelerated err of accelerating basis is  81115.14387962574
------Found a better point after accelerating basis! Improvment is  0.42034025889006443
--Current err is 81115.144 and the improvement is 2.039

The 13-th iteration of Accelerated ALM FGD
----The ALM err is  81197.06283010177
----The accelerated-weight err is  81197.06170971865
------Found a better point after accelerating weights! Improvment is  0.001120383123634383
----The accelerated err of accelerating basis is  81113.53602416079
------Found a better point after accelerating basis! Improvment is  0.3347893057652982
--Current err is 81113.536 and the improvement is 1.608

The 14-th iteration of Accelerated ALM FGD
----The ALM err is  81195.57014101974
----The accelerated-weight err is  81195.56906990657
------Found a better point after accelerating weights! Improvment is  0.0010711131617426872
----The accelerated err of accelerating basis is  81112.22208401476
------Found a better point after accelerating basis! Improvment is  0.27630555056384765
--Current err is 81112.222 and the improvement is 1.314

The 15-th iteration of Accelerated ALM FGD
----The ALM err is  81194.33483350385
----The accelerated-weight err is  81194.33379464144
------Found a better point after accelerating weights! Improvment is  0.001038862406858243
----The accelerated err of accelerating basis is  81111.11135029244
------Found a better point after accelerating basis! Improvment is  0.23576459678588435
--Current err is 81111.111 and the improvement is 1.111

The 16-th iteration of Accelerated ALM FGD
----The ALM err is  81193.27851187732
----The accelerated-weight err is  81193.27749416564
------Found a better point after accelerating weights! Improvment is  0.0010177116782870144
----The accelerated err of accelerating basis is  81110.14377341334
------Found a better point after accelerating basis! Improvment is  0.207078248160542
--Current err is 81110.144 and the improvement is 0.968

The 17-th iteration of Accelerated ALM FGD
----The ALM err is  81192.34941599293
----The accelerated-weight err is  81192.34841233504
------Found a better point after accelerating weights! Improvment is  0.0010036578896688297
----The accelerated err of accelerating basis is  81109.27993651446
------Found a better point after accelerating basis! Improvment is  0.18614434164192062
--Current err is 81109.280 and the improvement is 0.864

The 18-th iteration of Accelerated ALM FGD
----The ALM err is  81191.51374877532
----The accelerated-weight err is  81191.51275479372
------Found a better point after accelerating weights! Improvment is  0.0009939816081896424
----The accelerated err of accelerating basis is  81108.49437437956
------Found a better point after accelerating basis! Improvment is  0.17019124132639263
--Current err is 81108.494 and the improvement is 0.786

The 19-th iteration of Accelerated ALM FGD
----The ALM err is  81190.74985218527
----The accelerated-weight err is  81190.7488653401
------Found a better point after accelerating weights! Improvment is  0.0009868451743386686
----The accelerated err of accelerating basis is  81107.7710267691
------Found a better point after accelerating basis! Improvment is  0.15735597831371706
--Current err is 81107.771 and the improvement is 0.723

The 20-th iteration of Accelerated ALM FGD
----The ALM err is  81190.04421960979
----The accelerated-weight err is  81190.04323857787
------Found a better point after accelerating weights! Improvment is  0.0009810319170355797
----The accelerated err of accelerating basis is  81107.10009266806
------Found a better point after accelerating basis! Improvment is  0.14640556323865894
--Current err is 81107.100 and the improvement is 0.671

The 21-th iteration of Accelerated ALM FGD
----The ALM err is  81189.38872502267
----The accelerated-weight err is  81189.38774925267
------Found a better point after accelerating weights! Improvment is  0.0009757700026966631
----The accelerated err of accelerating basis is  81106.47582931556
------Found a better point after accelerating basis! Improvment is  0.13654795881302562
--Current err is 81106.476 and the improvement is 0.624

The 22-th iteration of Accelerated ALM FGD
----The ALM err is  81188.7786807611
----The accelerated-weight err is  81188.77771015298
------Found a better point after accelerating weights! Improvment is  0.0009706081182230264
----The accelerated err of accelerating basis is  81105.89500668806
------Found a better point after accelerating basis! Improvment is  0.12730022794858087
--Current err is 81105.895 and the improvement is 0.581

The 23-th iteration of Accelerated ALM FGD
----The ALM err is  81188.2114759525
----The accelerated-weight err is  81188.21051063004
------Found a better point after accelerating weights! Improvment is  0.0009653224551584572
----The accelerated err of accelerating basis is  81105.3558297528
------Found a better point after accelerating basis! Improvment is  0.11839399964082986
--Current err is 81105.356 and the improvement is 0.539

The 24-th iteration of Accelerated ALM FGD
----The ALM err is  81187.68563309501
----The accelerated-weight err is  81187.6846732502
------Found a better point after accelerating weights! Improvment is  0.0009598448086762801
----The accelerated err of accelerating basis is  81104.85720267674
------Found a better point after accelerating basis! Improvment is  0.10970616432314273
--Current err is 81104.857 and the improvement is 0.499

The 25-th iteration of Accelerated ALM FGD
----The ALM err is  81187.200172204
----The accelerated-weight err is  81187.19921799823
------Found a better point after accelerating weights! Improvment is  0.0009542057669023052
----The accelerated err of accelerating basis is  81104.39824666818
------Found a better point after accelerating basis! Improvment is  0.10120746649045032
--Current err is 81104.398 and the improvement is 0.459

The 26-th iteration of Accelerated ALM FGD
----The ALM err is  81186.75420341374
----The accelerated-weight err is  81186.75325492294
------Found a better point after accelerating weights! Improvment is  0.0009484908077865839
----The accelerated err of accelerating basis is  81103.97800605532
------Found a better point after accelerating basis! Improvment is  0.09292448122869246
--Current err is 81103.978 and the improvement is 0.420

The 27-th iteration of Accelerated ALM FGD
----The ALM err is  81186.3466883868
----The accelerated-weight err is  81186.34574557893
------Found a better point after accelerating weights! Improvment is  0.000942807862884365
----The accelerated err of accelerating basis is  81103.59529186122
------Found a better point after accelerating basis! Improvment is  0.08491204245365225
--Current err is 81103.595 and the improvement is 0.383

The 28-th iteration of Accelerated ALM FGD
----The ALM err is  81185.97632368722
----The accelerated-weight err is  81185.97538642268
------Found a better point after accelerating weights! Improvment is  0.0009372645436087623
----The accelerated err of accelerating basis is  81103.24862240937
------Found a better point after accelerating basis! Improvment is  0.07723401657131035
--Current err is 81103.249 and the improvement is 0.347

The 29-th iteration of Accelerated ALM FGD
----The ALM err is  81185.6415086348
----The accelerated-weight err is  81185.6405766802
------Found a better point after accelerating weights! Improvment is  0.0009319545933976769
----The accelerated err of accelerating basis is  81102.9362285813
------Found a better point after accelerating basis! Improvment is  0.0699507269600872
--Current err is 81102.936 and the improvement is 0.312

The 30-th iteration of Accelerated ALM FGD
----The ALM err is  81185.34036780642
----The accelerated-weight err is  81185.33944085577
------Found a better point after accelerating weights! Improvment is  0.0009269506554119289
----The accelerated err of accelerating basis is  81102.65609830737
------Found a better point after accelerating basis! Improvment is  0.0631115566502558
--Current err is 81102.656 and the improvement is 0.280

 Saving as mat file.
data is saved in /Users/XiangyuW/Google Drive/Research2015/ReweightMF/Code/Python/testdata/MINIST_ARWLR_AGD_ALM_Beta_v9.mat.

 Plot Output Figs.
